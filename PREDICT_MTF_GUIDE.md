# üîÆ –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–ï MTF –ö–û–ú–ë–ò–ù–ê–¶–ò–ô –ë–ï–ó –†–ï–ê–õ–¨–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

## üìã –û–ü–ò–°–ê–ù–ò–ï

–°–∫—Ä–∏–ø—Ç `predict_mtf_from_single.py` —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–æ—á–Ω—ã–µ –º–æ–¥–µ–ª–∏ (15m –∏ 1h) –∏ **–ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç** –ª—É—á—à–∏–µ MTF –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, **–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è MTF —Å—Ç—Ä–∞—Ç–µ–≥–∏–π**.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ª—É—á—à–∏–º –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º –±–µ–∑ –¥–æ–ª–≥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö MTF –∫–æ–º–±–∏–Ω–∞—Ü–∏–π.

## üöÄ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤):

```bash
python predict_mtf_from_single.py
```

### –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤:

```bash
python predict_mtf_from_single.py --symbols BTCUSDT,ETHUSDT,SOLUSDT
```

### –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```bash
python predict_mtf_from_single.py --symbols BTCUSDT,ETHUSDT --days 30 --top-n 15
```

## üìä –ß–¢–û –î–ï–õ–ê–ï–¢ –°–ö–†–ò–ü–¢

### –≠—Ç–∞–ø 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤—Å–µ 15m –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤—Å–µ 1h –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `ml_models_comparison_*.csv`

### –≠—Ç–∞–ø 2: –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ MTF –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (15m √ó 1h)
- –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ MTF –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
  - **PnL%** - –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ (1h: 40%, 15m: 60%)
  - **Win Rate** - –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ (1h: 30%, 15m: 70%)
  - **Profit Factor** - —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ
  - **Sharpe Ratio** - —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ
  - **Max Drawdown** - –º–∞–∫—Å–∏–º—É–º –∏–∑ –¥–≤—É—Ö
  - **Composite Score** - —Å—Ä–µ–¥–Ω–µ–µ composite score

### –≠—Ç–∞–ø 3: –í—ã–±–æ—Ä –ª—É—á—à–∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–æ predicted_score
- –í—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ø-N –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üìÅ –†–ï–ó–£–õ–¨–¢–ê–¢–´

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `mtf_predictions/` –±—É–¥—É—Ç:

1. **`predicted_mtf_*_*.csv`** - —Ç–∞–±–ª–∏—Ü—ã —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
   - –í—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ predicted_score

2. **`best_predicted_mtf_*.json`** - –ª—É—á—à–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
   - –¢–æ–ø-N –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏

## üîç –ú–ï–¢–û–î–´ –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–Ø

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è:

### 1. –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ (–æ—Å–Ω–æ–≤–Ω–æ–µ)
- PnL: 1h √ó 40% + 15m √ó 60%
- Win Rate: 1h √ó 30% + 15m √ó 70%
- –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: 15m –º–æ–¥–µ–ª—å –≤–∞–∂–Ω–µ–µ –¥–ª—è –≤—Ö–æ–¥–∞, 1h –¥–ª—è —Ç—Ä–µ–Ω–¥–∞

### 2. –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ
- –ü—Ä–æ—Å—Ç–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫

### 3. –°–∏–Ω–µ—Ä–≥–∏—è (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)
- –£—á–∏—Ç—ã–≤–∞–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ –∑–∞ —Å—á–µ—Ç —Å–∏–Ω–µ—Ä–≥–∏–∏ –º–æ–¥–µ–ª–µ–π
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: 1.3 (30% —É–ª—É—á—à–µ–Ω–∏–µ)

## ‚öôÔ∏è –ü–ê–†–ê–ú–ï–¢–†–´

- `--symbols` - –°–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ `state.active_symbols`)
- `--days` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30)
- `--output-dir` - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `mtf_predictions`)
- `--top-n` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–ø-–∫–æ–º–±–∏–Ω–∞—Ü–∏–π –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–Ω—É—é —Ç–æ—á–∫—É:**
   - –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–∞—é—Ç —Ö–æ—Ä–æ—à—É—é –æ—Ü–µ–Ω–∫—É, –Ω–æ –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–ø-5-10 –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π —Ä–µ–∞–ª—å–Ω–æ

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é:**
   - –°—Ä–∞–≤–Ω–∏—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ MTF (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ï—Å–ª–∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –≤—ã—Å–æ–∫–∞—è (>0.5), –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –¥–æ–≤–µ—Ä—è—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–±–æ—Ä–∞:**
   - –ò–∑ 100+ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–ø-10-20
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∏—Ö —Ä–µ–∞–ª—å–Ω–æ
   - –≠—Ç–æ —É—Å–∫–æ—Ä–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å –≤ 5-10 —Ä–∞–∑

## üìà –ü–†–ò–ú–ï–† –í–´–í–û–î–ê

```
üéØ BTCUSDT
----------------------------------------------------------------------------------------------------
–õ—É—á—à–∞—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è:
  1h: rf_BTCUSDT_60_1h
     –û–¥–∏–Ω–æ—á–Ω—ã–π PnL: 62.63%, WR: 63.0%
  15m: rf_BTCUSDT_15_15m
     –û–¥–∏–Ω–æ—á–Ω—ã–π PnL: 64.00%, WR: 56.8%

–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–µ MTF –º–µ—Ç—Ä–∏–∫–∏:
  PnL: 63.45%
  Win Rate: 58.2%
  Profit Factor: 2.93
  Sharpe Ratio: 7.89
  Max Drawdown: 4.79%
  Composite Score: 68.23
```

## ‚ö†Ô∏è –í–ê–ñ–ù–û

- **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- –î–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ø-–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–ª—è **–±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–±–æ—Ä–∞** –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

## üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π:

1. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–æ–ø-10 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–ø-5 —Ä–µ–∞–ª—å–Ω–æ** —Å –ø–æ–º–æ—â—å—é `optimized_mtf_testing.py`:
   ```bash
   python optimized_mtf_testing.py --symbols BTCUSDT --top-n 5
   ```
3. **–°—Ä–∞–≤–Ω–∏—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏**
4. **–í—ã–±–µ—Ä–∏—Ç–µ –ª—É—á—à—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

---

*–°–æ–∑–¥–∞–Ω–æ: 2025-02-14*
