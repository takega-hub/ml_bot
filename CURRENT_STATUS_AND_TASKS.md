# –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏

## ‚úÖ –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û

### 1. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ TP/SL** - –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã –∏–º–µ—é—Ç TP/SL (100%)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞ –≤ `strategy_ml.py`
  - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º Signal –¥–ª—è LONG/SHORT
  - –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ TP/SL –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ LONG/SHORT —á–µ—Ä–µ–∑ class weights** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π confidence threshold** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (0.45 –±–∞–∑–æ–≤—ã–π, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–æ 0.3-0.8)
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ PnL** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞ –∏ –∫–æ–º–∏—Å—Å–∏–π
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–π** - –∫–æ–º–∏—Å—Å–∏—è –æ—Ç —Å—É–º–º—ã —Å–¥–µ–ª–∫–∏ (notional value)
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ BTCUSDT** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `trading_loop.py` –∏ `backtest_ml_strategy.py`
  - –ê–ª—å—Ç–∫–æ–∏–Ω—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —Å–∏–≥–Ω–∞–ª—ã, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ BTCUSDT
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ BTCUSDT –Ω–∞ 5 –º–∏–Ω—É—Ç

### 2. –£–ª—É—á—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ **–£–º–µ–Ω—å—à–µ–Ω—ã –ø–æ—Ä–æ–≥–∏ target labeling**:
  - `threshold_pct`: 0.5% ‚Üí 0.3%
  - `min_profit_pct`: 0.5% ‚Üí 0.3%
  - `min_risk_reward_ratio`: 2.0 ‚Üí 1.5
  - `max_hold_periods`: 48 ‚Üí 96 (24 —á–∞—Å–∞)
- ‚úÖ **–°–Ω–∏–∂–µ–Ω –±–∞–∑–æ–≤—ã–π confidence threshold**: 0.5 ‚Üí 0.45
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –≤ strategy_ml.py**:
  - –£–¥–∞–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä `min_signal_strength`
  - –£–º–µ–Ω—å—à–µ–Ω –º–Ω–æ–∂–∏—Ç–µ–ª—å `stability_filter`: 1.3x/1.5x ‚Üí 1.1x
  - –ò–∑–º–µ–Ω–µ–Ω—ã –ø–æ—Ä–æ–≥–∏ RSI: >85/<15 ‚Üí >90/<10
  - –£–∂–µ—Å—Ç–æ—á–µ–Ω —Ñ–∏–ª—å—Ç—Ä –æ–±—ä–µ–º–∞: —Ç–æ–ª—å–∫–æ –¥–ª—è confidence > 0.8

### 3. –£–ª—É—á—à–µ–Ω–∏–µ —Ñ–∏—á–µ–π
- ‚úÖ **–£–¥–∞–ª–µ–Ω—ã –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏—á–∏** - –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å–≤–µ—á–µ–π —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ **–£—Å–∏–ª–µ–Ω—ã MTF —Ñ–∏—á–∏** - –¥–æ–±–∞–≤–ª–µ–Ω—ã rsi_overbought_60/240, macd_60/240
- ‚úÖ **–£–ª—É—á—à–µ–Ω—ã S/R —Ñ–∏—á–∏** - –¥–æ–±–∞–≤–ª–µ–Ω—ã:
  - `support_touches` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Å–∞–Ω–∏–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
  - `resistance_touches` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Å–∞–Ω–∏–π —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
  - `support_strength` - —Å–∏–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å–∫–æ–∫–æ–≤)
  - `resistance_strength` - —Å–∏–ª–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
  - `support_strength_ratio` - –ø—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç—Å–∫–æ–∫–æ–≤
  - `resistance_strength_ratio` - –ø—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç—Å–∫–æ–∫–æ–≤
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã volatility regime —Ñ–∏—á–∏**:
  - `atr_percentile_20/50/100` - ATR –≤ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è—Ö
  - `volatility_regime` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (Low/Medium/High)
  - `volatility_trend` - —Ç—Ä–µ–Ω–¥ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–£–ª—É—á—à–µ–Ω—ã –º–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∏—á–∏**:
  - `order_flow_imbalance` - –¥–∏—Å–±–∞–ª–∞–Ω—Å –æ—Ä–¥–µ—Ä–æ–≤
  - `high_volume_candles` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—Å–æ–∫–æ–æ–±—ä–µ–º–Ω—ã—Ö —Å–≤–µ—á–µ–π
  - `volume_intensity` - –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –æ–±—ä–µ–º–∞
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã BTC correlation —Ñ–∏—á–∏** (–¥–ª—è –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤):
  - `relative_strength_ratio` - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–ª–∞ vs BTC
  - `btc_correlation` - –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å BTC
  - `volatility_ratio_vs_btc` - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∫ BTC
  - `alt_btc_lag_corr` - –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π

### 4. –ê–Ω–∞–ª–∏–∑ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ feature importance** - –≤—ã–ø–æ–ª–Ω–µ–Ω
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ target labeling** - –≤—ã–ø–æ–ª–Ω–µ–Ω
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ target labeling** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ **–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (—Å MTF –∏ –±–µ–∑ MTF)
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (100% –ø—Ä–∏–±—ã–ª—å–Ω—ã)
- ‚úÖ **MFE/MAE —Ä–∞—Å—á–µ—Ç** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å—Ç—Ä–æ–∫–∏ 643-645 –≤ backtest_ml_strategy.py)

### 5. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ **–°–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - `optimize_hyperparameters.py` —Å–æ–∑–¥–∞–Ω
- ‚úÖ **–°–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–µ—Å–æ–≤ –∞–Ω—Å–∞–º–±–ª–µ–π** - `optimize_ensemble_weights.py` —Å–æ–∑–¥–∞–Ω
- ‚úÖ **–°–∫—Ä–∏–ø—Ç —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - `stress_test_models.py` —Å–æ–∑–¥–∞–Ω
- ‚úÖ **–°–∫—Ä–∏–ø—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π** - `compare_ml_models.py` —É–ª—É—á—à–µ–Ω —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º
- ‚úÖ **–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –±—ç–∫—Ç–µ—Å—Ç–æ–≤** - `run_all_backtests.py` —Å–æ–∑–¥–∞–Ω

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –±—ç–∫—Ç–µ—Å—Ç—É
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º** - `BOT_SETTINGS_FOR_BACKTEST_MATCH.md` —Å–æ–∑–¥–∞–Ω
- ‚úÖ **–§–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫** - `risk_settings.json` —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ **–°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - `setup_backtest_settings.py` —Å–æ–∑–¥–∞–Ω

### 7. –£–ª—É—á—à–µ–Ω–∏—è –±—ç–∫—Ç–µ—Å—Ç–∞
- ‚úÖ **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä** - –¥–æ–±–∞–≤–ª–µ–Ω `tqdm` –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–∑–∞—Ç–µ–º —É–¥–∞–ª–µ–Ω –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞)
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ daily_signals_count** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç timestamp —Å–≤–µ—á–∏, –∞ –Ω–µ datetime.now()
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ max_signals_per_day** - –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ LONG/SHORT, –Ω–µ –∫ HOLD
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è BTC –¥–∞–Ω–Ω—ã—Ö** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ BTCUSDT** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ä–µ–∞–ª—å–Ω—ã–π –±–æ—Ç –∏ –±—ç–∫—Ç–µ—Å—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤** - `compare_ml_models.py` —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –∏–∑ –º–æ–¥–µ–ª–µ–π

---

## ‚è≥ –ß–¢–û –û–°–¢–ê–õ–û–°–¨ –°–î–ï–õ–ê–¢–¨

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### 1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
**–°—Ç–∞—Ç—É—Å**: –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å**:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 30-40%)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏—é —Å–∏–≥–Ω–∞–ª–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 10-15%)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MFE/MAE (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0)

**–ö–æ–º–∞–Ω–¥–∞**:
```bash
python compare_ml_models.py --days 14 --detailed-analysis
```

#### 2. ‚ö†Ô∏è –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –±—ç–∫—Ç–µ—Å—Ç—É
**–°—Ç–∞—Ç—É—Å**: –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –±–æ—Ç–µ

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å**:
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `risk_settings.json` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–æ—Ç–æ–º
- –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ UI –±–æ—Ç–∞:
  - DCA
  - Reverse
  - Trailing Stop
  - Partial Close
  - Breakeven
  - Profit Protection
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `base_order_usd` = 100.0

**–§–∞–π–ª—ã**:
- `BOT_SETTINGS_FOR_BACKTEST_MATCH.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- `risk_settings.json` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `setup_backtest_settings.py` - —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### üü° –í–∞–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### 3. ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π
**–°—Ç–∞—Ç—É—Å**: –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å**:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `optimize_hyperparameters.py` –¥–ª—è –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π (RF, XGBoost)
- –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ö–æ–º–∞–Ω–¥–∞**:
```bash
python optimize_hyperparameters.py --model-type rf --symbol BTCUSDT
python optimize_hyperparameters.py --model-type xgb --symbol BTCUSDT
```

#### 6. ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª–µ–π
**–°—Ç–∞—Ç—É—Å**: –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å**:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `optimize_ensemble_weights.py` –¥–ª—è –∞–Ω—Å–∞–º–±–ª–µ–π
- –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –∞–Ω—Å–∞–º–±–ª–∏ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏
- –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ö–æ–º–∞–Ω–¥–∞**:
```bash
python optimize_ensemble_weights.py --symbol BTCUSDT --days 30
```

#### 7. ‚ö†Ô∏è –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π
**–°—Ç–∞—Ç—É—Å**: –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å**:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `stress_test_models.py` –¥–ª—è –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ö–æ–º–∞–Ω–¥–∞**:
```bash
python stress_test_models.py --model-type rf --symbol BTCUSDT
```

### üü¢ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### 6. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ MTF vs –±–µ–∑ MTF
**–°—Ç–∞—Ç—É—Å**: –ú–æ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω—ã, –Ω—É–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å**:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π —Å MTF –∏ –±–µ–∑ MTF
- –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ `compare_ml_models.py`
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –ª—É—á—à–µ

**–ö–æ–º–∞–Ω–¥–∞**:
```bash
# –¢–µ—Å—Ç –º–æ–¥–µ–ª–µ–π —Å MTF
python run_all_backtests.py --symbol BTCUSDT --pattern "*_mtf.pkl"

# –¢–µ—Å—Ç –º–æ–¥–µ–ª–µ–π –±–µ–∑ MTF
python run_all_backtests.py --symbol BTCUSDT --pattern "*_15m.pkl"

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ
python compare_ml_models.py --detailed-analysis
```

#### 7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
**–°—Ç–∞—Ç—É—Å**: –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å**:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –°—Ä–∞–≤–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ —Å –±—ç–∫—Ç–µ—Å—Ç–æ–º
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã (DCA, Reverse –∏ —Ç.–¥.)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ TP –±–µ—Ä–µ—Ç—Å—è –∏–∑ —Å–∏–≥–Ω–∞–ª–∞ –º–æ–¥–µ–ª–∏

---

## üìä –¢–ï–ö–£–©–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ (–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—ç–∫—Ç–µ—Å—Ç–∞)

### –ú–æ–¥–µ–ª—å: xgb_BTCUSDT_15_mtf
- ‚úÖ **Win Rate**: 59.62% (–æ—Ç–ª–∏—á–Ω–æ, >50%)
- ‚úÖ **Profit Factor**: 3.24 (–æ—Ç–ª–∏—á–Ω–æ, >2.0)
- ‚úÖ **Sharpe Ratio**: 8.64 (–æ—Ç–ª–∏—á–Ω–æ, >3.0)
- ‚úÖ **PnL**: +57.39% –∑–∞ –ø–µ—Ä–∏–æ–¥
- ‚úÖ **Max Drawdown**: 3.83% (–Ω–∏–∑–∫–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞)
- ‚úÖ **–í—Å–µ–≥–æ —Å–¥–µ–ª–æ–∫**: 52 (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞)
- ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: 100% —Å TP/SL, 100% —Å SL=1%
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤**: 40.6% (217 LONG + 248 SHORT –∏–∑ 1144)
- ‚úÖ **–ö–æ–Ω–≤–µ—Ä—Å–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**: 11.2% (52 —Å–¥–µ–ª–∫–∏ –∏–∑ 465 —Å–∏–≥–Ω–∞–ª–æ–≤)

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã!)
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤**: 30-40% ‚úÖ (40.6% - –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ!)
- ‚úÖ **–ö–æ–Ω–≤–µ—Ä—Å–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**: 10-15% ‚úÖ (11.2% - –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ!)
- ‚úÖ **Win Rate**: >50% ‚úÖ (59.62% - –æ—Ç–ª–∏—á–Ω–æ!)
- ‚úÖ **Profit Factor**: >1.5 ‚úÖ (3.24 - –æ—Ç–ª–∏—á–Ω–æ!)
- ‚úÖ **MFE/MAE**: >0 ‚úÖ (—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (—Å–µ–π—á–∞—Å)
1. ‚úÖ **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞** - –æ—Ç–∫–ª—é—á–∏—Ç—å DCA, Reverse –∏ —Ç.–¥.
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –∑–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
3. ‚úÖ **–°—Ä–∞–≤–Ω–∏—Ç—å MTF vs –±–µ–∑ MTF** - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª—É—á—à–∏–µ –º–æ–¥–µ–ª–∏

### –í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è (1-2 –Ω–µ–¥–µ–ª–∏)
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –¥–ª—è –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π
5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª–µ–π** - –¥–ª—è TripleEnsemble –∏ QuadEnsemble
6. **–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

### –í –±—É–¥—É—â–µ–º (1 –º–µ—Å—è—Ü)
7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏** - —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –±—ç–∫—Ç–µ—Å—Ç–æ–º
8. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è** - –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ó–ê–ú–ï–¢–ö–ò

- –í—Å–µ –º–æ–¥–µ–ª–∏ —É–∂–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã (100%)
- Random Forest –∏ XGBoost –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Ç–ª–∏—á–Ω–æ–µ (100% TP/SL)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏—è –¥–æ—Å—Ç–∏–≥–ª–∏ —Ü–µ–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π!
- –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞** (—Å–º. `BOT_SETTINGS_FOR_BACKTEST_MATCH.md`)
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   ```bash
   python compare_ml_models.py --days 14 --detailed-analysis
   ```
3. **–°—Ä–∞–≤–Ω–∏—Ç—å MTF vs –±–µ–∑ MTF** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª—É—á—à–∏–µ –º–æ–¥–µ–ª–∏** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
