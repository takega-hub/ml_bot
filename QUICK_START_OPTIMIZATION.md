# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö 6 —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä

## üöÄ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤

```bash
# Random Forest (–ª—É—á—à–∞—è –º–æ–¥–µ–ª—å) - –¥–ª—è –≤—Å–µ—Ö 6 —Å–∏–º–≤–æ–ª–æ–≤
python optimize_hyperparameters.py --model rf --mtf

# XGBoost - –¥–ª—è –≤—Å–µ—Ö 6 —Å–∏–º–≤–æ–ª–æ–≤
python optimize_hyperparameters.py --model xgb --mtf

# LightGBM - –¥–ª—è –≤—Å–µ—Ö 6 —Å–∏–º–≤–æ–ª–æ–≤
python optimize_hyperparameters.py --model lgb --mtf
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: JSON —Ñ–∞–π–ª `hyperparams_{model}_all_15_mtf_YYYYMMDD_HHMMSS.json` —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ –∞–Ω—Å–∞–º–±–ª–µ–π –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤–µ—Å–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
python optimize_ensemble_weights.py \
    --models "rf_*_15_mtf.pkl,xgb_*_15_mtf.pkl,triple_ensemble_*_15_mtf.pkl" \
    --days 30
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: JSON —Ñ–∞–π–ª `ensemble_weights_all_YYYYMMDD_HHMMSS.json` —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

### 3. –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π

```bash
# –í—Å–µ RF –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤
python stress_test_models.py --model-type rf

# –í—Å–µ TripleEnsemble –º–æ–¥–µ–ª–∏
python stress_test_models.py --model-type triple_ensemble

# –í—Å–µ QuadEnsemble –º–æ–¥–µ–ª–∏
python stress_test_models.py --model-type quad_ensemble
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: JSON —Ñ–∞–π–ª `stress_test_all_YYYYMMDD_HHMMSS.json` —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –∏ —Å–∏–º–≤–æ–ª–æ–≤

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏–º–≤–æ–ª—ã

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å **6 —Ç–æ—Ä–≥–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–∏**:
1. **SOLUSDT**
2. **BTCUSDT**
3. **ETHUSDT**
4. **XRPUSDT**
5. **ADAUSDT**
6. **BNBUSDT**

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è BTCUSDT, ETHUSDT, SOLUSDT

```bash
# –ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
python optimize_hyperparameters.py --model rf --symbols BTCUSDT,ETHUSDT,SOLUSDT --mtf

# –í–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª–µ–π
python optimize_ensemble_weights.py \
    --symbols BTCUSDT,ETHUSDT,SOLUSDT \
    --models "rf_*_15_mtf.pkl,xgb_*_15_mtf.pkl" \
    --days 30

# –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
python stress_test_models.py --model-type rf --symbols BTCUSDT,ETHUSDT,SOLUSDT
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

```bash
# –ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
python optimize_hyperparameters.py --model rf --symbol BTCUSDT --mtf

# –í–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª–µ–π
python optimize_ensemble_weights.py \
    --symbol BTCUSDT \
    --models "ml_models/rf_BTCUSDT_15_mtf.pkl,ml_models/xgb_BTCUSDT_15_mtf.pkl" \
    --days 30

# –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
python stress_test_models.py --model ml_models/rf_BTCUSDT_15_mtf.pkl --symbol BTCUSDT
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```json
[
  {
    "model": "rf",
    "symbol": "BTCUSDT",
    "best_params": {...},
    "best_score": 0.6234
  },
  {
    "model": "rf",
    "symbol": "ETHUSDT",
    "best_params": {...},
    "best_score": 0.6156
  },
  ...
]
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ –∞–Ω—Å–∞–º–±–ª–µ–π
```json
[
  {
    "symbol": "BTCUSDT",
    "weights": {
      "rf_BTCUSDT_15_mtf.pkl": 0.450,
      "xgb_BTCUSDT_15_mtf.pkl": 0.320,
      "triple_ensemble_BTCUSDT_15_mtf.pkl": 0.230
    }
  },
  ...
]
```

### –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```json
[
  {
    "model": "rf_BTCUSDT_15_mtf.pkl",
    "symbol": "BTCUSDT",
    "results": [
      {"days": 14, "total_pnl_pct": 22.8, ...},
      {"days": 30, "total_pnl_pct": 25.3, ...},
      ...
    ]
  },
  ...
]
```

## ‚ö° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫

1. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 2-4 —á–∞—Å–∞)
2. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –≤ `retrain_ml_optimized.py`
3. **–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏** —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª–µ–π** –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤
5. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Å–∞** –≤ `model_trainer.py`
6. **–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –∞–Ω—Å–∞–º–±–ª–∏** —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏
7. **–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
8. **–°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏

## üí° –°–æ–≤–µ—Ç—ã

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–∞ –Ω–æ—á—å
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** (`rf_*_15_mtf.pkl`) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π
- **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ out-of-sample** –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
