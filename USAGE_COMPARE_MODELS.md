# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é compare_ml_models.py

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç `compare_ml_models.py` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö ML –º–æ–¥–µ–ª–µ–π –ø–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –±—ç–∫—Ç–µ—Å—Ç—ã
- –°–æ–±–∏—Ä–∞–µ—Ç –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

## üìã –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

```bash
# 1. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏
python retrain_ml_optimized.py

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
python compare_ml_models.py --detailed-analysis

# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
# (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ CSV)
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è

```bash
# 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –î–û –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
python compare_ml_models.py --output csv
# –ó–∞–ø–æ–º–Ω–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞: ml_models_comparison_YYYYMMDD_HHMMSS.csv

# 2. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏
python retrain_ml_optimized.py

# 3. –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
python compare_ml_models.py --compare-with ml_models_comparison_20260205_120000.csv --detailed-analysis
```

## üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `--days 30` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30)
- `--symbols BTCUSDT,ETHUSDT,SOLUSDT` - –°–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
- `--models-dir ml_models` - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –º–æ–¥–µ–ª—è–º–∏
- `--output csv|plots|all` - –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å (csv, –≥—Ä–∞—Ñ–∏–∫–∏, –≤—Å–µ)
- `--workers 4` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∞–ª–∏–∑–∞

- `--detailed-analysis` - –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (LONG/SHORT/HOLD)
  - –ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤ (TP/SL)
  - –ö–æ–Ω–≤–µ—Ä—Å–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ —Å–¥–µ–ª–∫–∏
  - –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–¥–µ–ª–æ–∫ (MFE/MAE)
  - –¢–æ–ø-5 –º–æ–¥–µ–ª–µ–π –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º

- `--compare-with <file.csv>` - –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏:
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è PnL%, Win Rate, Profit Factor
  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
  - –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏–π

- `--check-overfitting` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ:
  - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –ø–µ—Ä–≤–æ–π –∏ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ –ø–µ—Ä–∏–æ–¥–∞
  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–æ–¥–µ–ª–∏ —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è

```bash
python compare_ml_models.py --days 14 --detailed-analysis
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ

```bash
# –î–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
python compare_ml_models.py --output csv --days 30
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ml_models_comparison_20260206_100000.csv

# –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
python retrain_ml_optimized.py

# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
python compare_ml_models.py \
    --compare-with ml_models_comparison_20260206_100000.csv \
    --detailed-analysis \
    --output all
```

### –ü—Ä–∏–º–µ—Ä 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

```bash
python compare_ml_models.py \
    --symbols BTCUSDT,ETHUSDT \
    --days 60 \
    --detailed-analysis \
    --output all
```

### –ü—Ä–∏–º–µ—Ä 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ

```bash
python compare_ml_models.py \
    --check-overfitting \
    --detailed-analysis \
    --output all
```

## üìà –ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

### 1. –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- Total PnL (USD –∏ %)
- Win Rate
- Profit Factor
- Max Drawdown
- Sharpe Ratio
- Sortino Ratio
- Calmar Ratio

### 2. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (--detailed-analysis)

#### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
- % LONG —Å–∏–≥–Ω–∞–ª–æ–≤
- % SHORT —Å–∏–≥–Ω–∞–ª–æ–≤
- % HOLD —Å–∏–≥–Ω–∞–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (–∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ —Å–¥–µ–ª–∫–∏)
- –ë–∞–ª–∞–Ω—Å LONG/SHORT

#### –ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤
- % —Å–∏–≥–Ω–∞–ª–æ–≤ —Å TP/SL
- % —Å–∏–≥–Ω–∞–ª–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º SL (1%)
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ (Poor/Fair/Good/Excellent)

#### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å TP/SL
- –°—Ä–µ–¥–Ω–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ TP
- –°—Ä–µ–¥–Ω–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ SL
- TP/SL ratio
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å

#### –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–¥–µ–ª–æ–∫
- MFE/MAE ratio
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è (Poor/Fair/Good/Excellent)

### 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (--compare-with)

- –ò–∑–º–µ–Ω–µ–Ω–∏–µ PnL%
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ Win Rate
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ Profit Factor
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ Max Drawdown
- –§–ª–∞–≥ —É–ª—É—á—à–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

## üìÅ –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

### CSV —Ñ–∞–π–ª
`ml_models_comparison_YYYYMMDD_HHMMSS.csv`
- –ü–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–∏–º–≤–æ–ª—É –∏ PnL%
- –í—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –ì—Ä–∞—Ñ–∏–∫–∏ (--output plots|all)
- `heatmap_pnl.png` - –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- `risk_return.png` - –†–∏—Å–∫ vs –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- `top_models.png` - –¢–æ–ø-10 –º–æ–¥–µ–ª–µ–π –ø–æ —Å–∏–º–≤–æ–ª—É
- `correlation_matrix.png` - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –º–µ—Ç—Ä–∏–∫

### JSON –æ—Ç—á–µ—Ç (--output all)
`reports/detailed_report_YYYYMMDD_HHMMSS.json`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞
- –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –õ—É—á—à–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ —Å–∏–º–≤–æ–ª—É
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è** –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å `--detailed-analysis`
2. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--check-overfitting`** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ 14-30 –¥–Ω—è—Ö** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏, 60+ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

## üîç –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –•–æ—Ä–æ—à–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- Win Rate > 50%
- Profit Factor > 1.5
- Sharpe Ratio > 1.0
- Max Drawdown < 15%
- Signal Utilization > 20% (–Ω–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ HOLD)
- Signals with TP/SL > 90%

### –ü–ª–æ—Ö–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- Win Rate < 45%
- Profit Factor < 1.0
- Max Drawdown > 25%
- Signal Utilization < 5% (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ HOLD)
- –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è (–±–æ–ª—å—à–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø–µ—Ä–≤–æ–π –∏ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–æ–π)

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- –ö–æ—Ä–æ—Ç–∫–∏–µ –ø–µ—Ä–∏–æ–¥—ã (14 –¥–Ω–µ–π) –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã–º–∏
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∏–º–≤–æ–ª–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--check-overfitting` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
