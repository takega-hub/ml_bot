# –£–ª—É—á—à–µ–Ω–∏—è –≤ compare_ml_models.py

## ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### 1. –§—É–Ω–∫—Ü–∏—è `print_problems_and_recommendations()`
–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:

#### –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç:
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤** (LONG/SHORT vs HOLD)
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π % –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å —Ü–µ–ª–µ–≤—ã–º (30-40%)
  - –ê–Ω–∞–ª–∏–∑ –ø–æ —Å–∏–º–≤–æ–ª–∞–º
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- **–ö–æ–Ω–≤–µ—Ä—Å–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ —Å–¥–µ–ª–∫–∏**
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∫–æ–Ω–≤–µ—Ä—Å–∏—é
  - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å —Ü–µ–ª–µ–≤–æ–π (10-15%)
  - –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω (–Ω–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ TP/SL)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Ñ–∏–ª—å—Ç—Ä–æ–≤

- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ MTF vs –ë–ï–ó MTF**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ PnL%, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
  - –í—ã–≤–æ–¥ –æ —Ç–æ–º, –∫–∞–∫–æ–π —Ç–∏–ø –º–æ–¥–µ–ª–µ–π –ª—É—á—à–µ

- **–ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤**
  - % —Å–∏–≥–Ω–∞–ª–æ–≤ —Å TP/SL
  - % —Å–∏–≥–Ω–∞–ª–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º SL (1%)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

- **–ë–∞–ª–∞–Ω—Å LONG/SHORT**
  - –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ LONG/SHORT
  - –í—ã—è–≤–ª–µ–Ω–∏–µ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ class weights

- **–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–¥–µ–ª–æ–∫ (MFE/MAE)**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ MFE/MAE
  - –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é timing

- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
  - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ `add_advanced_analysis()`
- `trades_per_100_signals` - —Å–¥–µ–ª–æ–∫ –Ω–∞ 100 —Å–∏–≥–Ω–∞–ª–æ–≤
- `potential_pnl_if_all_signals` - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤—Å–µ—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- `pnl_per_trade` - PnL –Ω–∞ –æ–¥–Ω—É —Å–¥–µ–ª–∫—É

### 3. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –≤ JSON –æ—Ç—á–µ—Ç–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –æ—Ç—á–µ—Ç–µ
- –§–ª–∞–≥–∏ –ø—Ä–æ–±–ª–µ–º (low_signal_utilization, low_conversion)
- –¢–µ–∫—É—â–∏–µ –∏ —Ü–µ–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

## üìä –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Å –∞–Ω–∞–ª–∏–∑–æ–º –ø—Ä–æ–±–ª–µ–º):
```bash
python compare_ml_models.py --days 14
```

### –° –¥–µ—Ç–∞–ª—å–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º:
```bash
python compare_ml_models.py --days 14 --detailed-analysis
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ MTF vs –ë–ï–ó MTF:
```bash
# –ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –ë–ï–ó MTF
python compare_ml_models.py --days 14 --detailed-analysis

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –∏ —Å—Ä–∞–≤–Ω–∏—Ç:
# - –ú–æ–¥–µ–ª–∏ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º _mtf
# - –ú–æ–¥–µ–ª–∏ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º _15m
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
```bash
python compare_ml_models.py --days 14 --detailed-analysis --output all
```

## üéØ –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

### 1. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º
- –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ü–µ–ª–µ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –í—ã—è–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–¥–µ
- –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑–º–µ–Ω–∏—Ç—å
- –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ MTF vs –ë–ï–ó MTF
- –ö–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- –†–∞–∑–Ω–∏—Ü–∞ –≤ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏
- –†–∞–∑–Ω–∏—Ü–∞ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

### 4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
- –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

## üìã –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú –ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ
================================================================================

üìä –ü–†–û–ë–õ–ï–ú–ê 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
--------------------------------------------------------------------------------
   –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: 18.5% (—Ü–µ–ª—å: 30-40%)
   ‚ö†Ô∏è  –ö–†–ò–¢–ò–ß–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ–µ!
   üìâ –°—Ä–µ–¥–Ω–∏–π % HOLD: 81.5%
   
   üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
      1. –£–º–µ–Ω—å—à–∏—Ç—å threshold_pct –≤ target labeling —Å 0.5% –¥–æ 0.3%
      2. –£–º–µ–Ω—å—à–∏—Ç—å min_profit_pct —Å 0.5% –¥–æ 0.3%
      ...

üîÑ –ü–†–û–ë–õ–ï–ú–ê 2: –ö–æ–Ω–≤–µ—Ä—Å–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ —Å–¥–µ–ª–∫–∏
--------------------------------------------------------------------------------
   –¢–µ–∫—É—â–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è: 2.5% (—Ü–µ–ª—å: 10-15%)
   ‚ö†Ô∏è  –ö–†–ò–¢–ò–ß–ù–û: –ö–æ–Ω–≤–µ—Ä—Å–∏—è —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è!
   
   üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
      1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤ strategy_ml.py
      ...

üìä –°–†–ê–í–ù–ï–ù–ò–ï: MTF vs –ë–ï–ó MTF
--------------------------------------------------------------------------------
   MTF –º–æ–¥–µ–ª–∏:
      –°—Ä–µ–¥–Ω–∏–π PnL%: 15.2%
      –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤: 20.1%
   
   –ë–ï–ó MTF –º–æ–¥–µ–ª–∏:
      –°—Ä–µ–¥–Ω–∏–π PnL%: 18.5%
      –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤: 22.3%
   
   ‚úÖ –ú–æ–¥–µ–ª–∏ –ë–ï–ó MTF –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!
      –†–∞–∑–Ω–∏—Ü–∞: 3.3%

üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –ó–ê–î–ê–ß–ò (–ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∞–Ω–∞–ª–∏–∑–∞):
--------------------------------------------------------------------------------
   1. –£–í–ï–õ–ò–ß–ò–¢–¨ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (—Å–µ–π—á–∞—Å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ HOLD)
   2. –£–õ–£–ß–®–ò–¢–¨ –∫–æ–Ω–≤–µ—Ä—Å–∏—é —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ —Å–¥–µ–ª–∫–∏ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã)
   ...
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª–∏ –ë–ï–ó MTF:**
   ```bash
   python retrain_ml_optimized.py --no-mtf
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
   ```bash
   python compare_ml_models.py --days 14 --detailed-analysis
   ```

3. **–ò–∑—É—á–∏—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã

4. **–ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª–∏** —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏

5. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
