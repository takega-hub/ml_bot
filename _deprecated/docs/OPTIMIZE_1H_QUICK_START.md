# üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø 1h –ú–û–î–ï–õ–ï–ô

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –®–∞–≥ 1: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã target labeling

```bash
python optimize_1h_target_labeling.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏ –ø–æ–∫–∞–∂–µ—Ç:
- –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ (LONG/SHORT)
- –ë–∞–ª–∞–Ω—Å LONG/SHORT
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤

**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–∏–≥–Ω–∞–ª–æ–≤ (15-25%) –∏ –∏—Ö –∫–∞—á–µ—Å—Ç–≤–æ–º.

### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ª—É—á—à–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `retrain_ml_optimized.py`:

```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ create_target_variable –¥–ª—è 1h –º–æ–¥–µ–ª–µ–π:
if base_interval == "60":  # 1h –º–æ–¥–µ–ª–∏
    forward_periods = 4        # –ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
    max_hold_periods = 48      # –ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
    threshold_pct = 0.5        # –ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
    min_profit_pct = 0.5       # –ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
    min_risk_reward_ratio = 2.0  # –ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
```

### –®–∞–≥ 3: –£–≤–µ–ª–∏—á–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –æ–±—É—á–µ–Ω–∏—è

```python
# –í retrain_ml_optimized.py, –ø—Ä–∏ —Å–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö:
if base_interval == "60":  # 1h –º–æ–¥–µ–ª–∏
    days_back = 60  # –í–º–µ—Å—Ç–æ 30
    limit = 60 * 24  # 60 –¥–Ω–µ–π * 24 —Å–≤–µ—á–∏/–¥–µ–Ω—å
else:  # 15m –º–æ–¥–µ–ª–∏
    days_back = 30
    limit = 30 * 96  # 30 –¥–Ω–µ–π * 96 —Å–≤–µ—á–µ–π/–¥–µ–Ω—å
```

### –®–∞–≥ 4: –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å 1h –º–æ–¥–µ–ª–∏

```bash
python train_1h_models.py --mtf
```

### –®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

```bash
python compare_ml_models.py --only-1h --detailed-analysis --days 14
```

### –®–∞–≥ 6: –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```bash
python compare_15m_vs_1h.py
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **PnL%**: —Å 34.32% –¥–æ 50-60%
- **–°–¥–µ–ª–æ–∫**: —Å 36.2 –¥–æ 50-60
- **Win Rate**: —É–ª—É—á—à–µ–Ω–∏–µ –¥–æ 60-65%
- **Sharpe Ratio**: —É–ª—É—á—à–µ–Ω–∏–µ

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∏–º–≤–æ–ª–∞—Ö
2. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º LONG/SHORT (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–ª–∏–∑–æ–∫ –∫ 1.0)
3. –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 15-25% (–Ω–µ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ, –Ω–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)
4. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
