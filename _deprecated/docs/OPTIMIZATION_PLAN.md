# –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π

## üéØ –¶–µ–ª—å
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª–µ–π –¥–ª—è –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π, —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

## üìä –õ—É—á—à–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### Top 5 –º–æ–¥–µ–ª–µ–π –ø–æ PnL:
1. **ensemble_SOLUSDT_15_15m**: 109.99% PnL, Win Rate 61.5%, Profit Factor 3.39
2. **rf_SOLUSDT_15_15m**: 97.86% PnL, Win Rate 59.6%, Profit Factor 2.93
3. **rf_ADAUSDT_15_15m**: 95.57% PnL, Win Rate 62.2%, Profit Factor 3.04
4. **xgb_SOLUSDT_15_15m**: 88.37% PnL, Win Rate 58.0%, Profit Factor 2.91
5. **triple_ensemble_SOLUSDT_15_15m**: 87.24% PnL, Win Rate 58.2%, Profit Factor 2.82

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏:
- **ensemble_ADAUSDT_15_15m**: 73.04% PnL
- **quad_ensemble_ETHUSDT_15_15m**: 74.83% PnL
- **ensemble_BTCUSDT_15_15m**: 60.34% PnL
- **ensemble_BNBUSDT_15_15m**: 72.58% PnL

## üîß –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è RF –∏ XGBoost

#### RF –º–æ–¥–µ–ª–∏:
1. **rf_SOLUSDT_15_15m** (97.86% PnL)
2. **rf_ADAUSDT_15_15m** (95.57% PnL)

#### XGBoost –º–æ–¥–µ–ª–∏:
1. **xgb_SOLUSDT_15_15m** (88.37% PnL)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

**Random Forest:**
- `n_estimators`: [50, 100, 150, 200]
- `max_depth`: [8, 10, 12, 15, 20]
- `min_samples_split`: [2, 5, 10, 20]
- `min_samples_leaf`: [1, 2, 4, 8]
- `max_features`: ['sqrt', 'log2', None, 0.7, 0.9]
- `class_weight`: ['balanced', 'balanced_subsample', None]

**XGBoost:**
- `n_estimators`: [50, 100, 150, 200]
- `max_depth`: [4, 6, 8, 10]
- `learning_rate`: [0.01, 0.05, 0.1, 0.15]
- `subsample`: [0.7, 0.8, 0.9, 1.0]
- `colsample_bytree`: [0.7, 0.8, 0.9, 1.0]
- `gamma`: [0, 0.1, 0.2]
- `reg_alpha`: [0, 0.005, 0.01]
- `reg_lambda`: [1, 1.5, 2]

**–ú–µ—Ç–æ–¥:** Grid Search —Å TimeSeriesSplit (3 —Ñ–æ–ª–¥–∞)
**Scoring:** f1_macro (–¥–ª—è –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤)

### –≠—Ç–∞–ø 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ –∞–Ω—Å–∞–º–±–ª–µ–π

#### Ensemble –º–æ–¥–µ–ª–∏:
1. **ensemble_SOLUSDT_15_15m** (109.99% PnL)
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: RF + XGBoost + LightGBM
2. **triple_ensemble_SOLUSDT_15_15m** (87.24% PnL)
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: RF + XGBoost + LightGBM
3. **ensemble_ADAUSDT_15_15m** (73.04% PnL)
4. **quad_ensemble_ETHUSDT_15_15m** (74.83% PnL)
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: RF + XGBoost + LightGBM + LSTM
5. **ensemble_BTCUSDT_15_15m** (60.34% PnL)
6. **ensemble_BNBUSDT_15_15m** (72.58% PnL)

**–ú–µ—Ç–æ–¥:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Sharpe ratio
- –ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ Sharpe ratio
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –≤–µ—Å–∞ >= 0, —Å—É–º–º–∞ = 1
- –†–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è

### –≠—Ç–∞–ø 3: –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫ `retrain_ml_optimized.py`
2. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `_optimized`

### –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
2. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫:
   - PnL%
   - Win Rate
   - Profit Factor
   - Sharpe Ratio
   - Max Drawdown

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ª—É—á—à–∏—Ö –º–æ–¥–µ–ª–µ–π:
```bash
python optimize_best_models.py --all
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ RF –º–æ–¥–µ–ª–µ–π:
```bash
python optimize_best_models.py --model-type rf
```

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ XGBoost –º–æ–¥–µ–ª–µ–π:
```bash
python optimize_best_models.py --model-type xgb
```

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è SOLUSDT:
```bash
python optimize_best_models.py --symbol SOLUSDT
```

### 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤–µ—Å–æ–≤ –∞–Ω—Å–∞–º–±–ª–µ–π:
```bash
python optimize_best_models.py --ensemble-only
```

### 6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```bash
python optimize_best_models.py --hyperparameters-only
```

### 7. –†—É—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏:
```bash
# RF –¥–ª—è SOLUSDT
python optimize_hyperparameters.py --model rf --symbol SOLUSDT --interval 15

# XGBoost –¥–ª—è ADAUSDT
python optimize_hyperparameters.py --model xgb --symbol ADAUSDT --interval 15

# –í–µ—Å–∞ –∞–Ω—Å–∞–º–±–ª—è –¥–ª—è SOLUSDT
python optimize_ensemble_weights.py --symbol SOLUSDT --days 30
```

## ‚è±Ô∏è –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ RF**: ~30-60 –º–∏–Ω—É—Ç –Ω–∞ –º–æ–¥–µ–ª—å
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ XGBoost**: ~30-60 –º–∏–Ω—É—Ç –Ω–∞ –º–æ–¥–µ–ª—å
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ –∞–Ω—Å–∞–º–±–ª—è**: ~10-20 –º–∏–Ω—É—Ç –Ω–∞ –∞–Ω—Å–∞–º–±–ª—å

**–û–±—â–µ–µ –≤—Ä–µ–º—è**: ~4-6 —á–∞—Å–æ–≤ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **Grid Search –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º**: –ï—Å–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
2. **TimeSeriesSplit**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
3. **f1_macro scoring**: –õ—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (LONG/SHORT vs HOLD)
4. **–†–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –∞–Ω—Å–∞–º–±–ª–µ–π
5. **–ë—ç–∫—Ç–µ—Å—Ç –¥–ª—è –≤–µ—Å–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 30 –¥–Ω–µ–π –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–µ—Å–æ–≤ –∞–Ω—Å–∞–º–±–ª–µ–π

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ–π, –µ—Å–ª–∏:
- –£–ª—É—á—à–µ–Ω–∏–µ PnL% –Ω–∞ 5-10% –∏–ª–∏ –±–æ–ª–µ–µ
- –£–ª—É—á—à–µ–Ω–∏–µ Sharpe Ratio –Ω–∞ 0.5 –∏–ª–∏ –±–æ–ª–µ–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ Win Rate
- –°–Ω–∏–∂–µ–Ω–∏–µ Max Drawdown
- –£–ª—É—á—à–µ–Ω–∏–µ Profit Factor

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
3. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
4. –í—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –±—ç–∫—Ç–µ—Å—Ç—É
