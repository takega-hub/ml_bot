# BTC –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∏—á–∏

## üéØ –ò–¥–µ—è

–í—Å–µ –∞–ª—å—Ç–∫–æ–∏–Ω—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥–≤–∏–∂–µ–Ω–∏—è BTCUSDT (—Ä—ã–Ω–æ—á–Ω–æ–≥–æ –ª–∏–¥–µ—Ä–∞). –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BTCUSDT –∫–∞–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–ª—è –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏—á–∏

### 1. –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–ª–∞ (Relative Strength)

**–§–∏—á–∏**:
- `relative_return` - —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å—é –∞–ª—å—Ç–∫–æ–∏–Ω–∞ –∏ BTC (–∞–ª—å—Ç–∫–æ–∏–Ω - BTC)
- `relative_strength_5/10/20` - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–ª–∞ –∑–∞ 5/10/20 –ø–µ—Ä–∏–æ–¥–æ–≤
- `relative_strength_ratio_5/10/20` - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∞–ª—å—Ç–∫–æ–∏–Ω–∞ –∫ BTC

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- `relative_strength_10 > 0` - –∞–ª—å—Ç–∫–æ–∏–Ω —Å–∏–ª—å–Ω–µ–µ BTC –∑–∞ 10 –ø–µ—Ä–∏–æ–¥–æ–≤
- `relative_strength_ratio_10 > 1.5` - –∞–ª—å—Ç–∫–æ–∏–Ω –≤ 1.5 —Ä–∞–∑–∞ —Å–∏–ª—å–Ω–µ–µ BTC

### 2. –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å BTC

**–§–∏—á–∏**:
- `btc_correlation_10/20/50` - –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è returns —Å BTC –∑–∞ 10/20/50 –ø–µ—Ä–∏–æ–¥–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- `btc_correlation_20 > 0.7` - –≤—ã—Å–æ–∫–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å BTC (—Å–ª–µ–¥—É–µ—Ç –∑–∞ BTC)
- `btc_correlation_20 < 0.3` - –Ω–∏–∑–∫–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ)

### 3. BTC Momentum –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

**–§–∏—á–∏**:
- `btc_rsi` - RSI BTCUSDT
- `btc_rsi_diff` - —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É RSI –∞–ª—å—Ç–∫–æ–∏–Ω–∞ –∏ BTC
- `btc_macd` - MACD BTCUSDT
- `btc_adx` - ADX BTCUSDT (—Å–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞)
- `btc_atr_pct` - –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å BTCUSDT
- `volatility_ratio_vs_btc` - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∞–ª—å—Ç–∫–æ–∏–Ω–∞ –∫ BTC

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- `btc_rsi > 70` - BTC –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω, –≤–æ–∑–º–æ–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
- `btc_adx > 25` - —Å–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥ —É BTC, –º–æ–∂–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –∞–ª—å—Ç–∫–æ–∏–Ω—ã
- `volatility_ratio_vs_btc > 1.5` - –∞–ª—å—Ç–∫–æ–∏–Ω –±–æ–ª–µ–µ –≤–æ–ª–∞—Ç–∏–ª–µ–Ω —á–µ–º BTC

### 4. Lead/Lag –∞–Ω–∞–ª–∏–∑

**–§–∏—á–∏**:
- `alt_btc_lag_1/2/3_corr` - –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∞–ª—å—Ç–∫–æ–∏–Ω–∞ —Å –ø—Ä–æ—à–ª—ã–º BTC (lag 1/2/3)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- `alt_btc_lag_1_corr > 0.5` - –∞–ª—å—Ç–∫–æ–∏–Ω —Å–ª–µ–¥—É–µ—Ç –∑–∞ BTC —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –≤ 1 –ø–µ—Ä–∏–æ–¥
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∞–ª—å—Ç–∫–æ–∏–Ω –æ—Ç—Å—Ç–∞–µ—Ç/–æ–ø–µ—Ä–µ–∂–∞–µ—Ç BTC

## üìä –í—Å–µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Ñ–∏—á–µ–π

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–ª—å—Ç–∫–æ–∏–Ω–∞** (–Ω–µ –¥–ª—è BTCUSDT):
- 1 —Ñ–∏—á–∞: `relative_return`
- 6 —Ñ–∏—á–µ–π: `relative_strength_5/10/20` + `relative_strength_ratio_5/10/20`
- 3 —Ñ–∏—á–∏: `btc_correlation_10/20/50`
- 5 —Ñ–∏—á–µ–π: `btc_rsi`, `btc_rsi_diff`, `btc_macd`, `btc_adx`, `btc_atr_pct`
- 1 —Ñ–∏—á–∞: `volatility_ratio_vs_btc`
- 3 —Ñ–∏—á–∏: `alt_btc_lag_1/2/3_corr`

**–ò—Ç–æ–≥–æ**: ~19 –Ω–æ–≤—ã—Ö —Ñ–∏—á–µ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–ª—å—Ç–∫–æ–∏–Ω–∞

## üîß –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### 1. –ü—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π (`retrain_ml_optimized.py`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è BTC —Ñ–∏—á–∏ –¥–ª—è –≤—Å–µ—Ö –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤:
- SOLUSDT, ETHUSDT, XRPUSDT, ADAUSDT, BNBUSDT
- BTCUSDT –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (–Ω–µ –Ω—É–∂–Ω—ã BTC —Ñ–∏—á–∏ –¥–ª—è —Å–∞–º–æ–≥–æ BTC)

### 2. –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ (`strategy_ml.py`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è BTC —Ñ–∏—á–∏ –ø—Ä–∏:
- `prepare_features_with_df()` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∏—á–µ–π –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
- `build_ml_signals()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ML —Å–∏–≥–Ω–∞–ª–æ–≤

## üí° –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**
   - –ú–æ–¥–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç, –≤ –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ä—ã–Ω–æ–∫ (—á–µ—Ä–µ–∑ BTC –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)

2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**
   - –¢–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ BTC –≤ —Ç—Ä–µ–Ω–¥–µ (`btc_adx > 25`)
   - –ò–∑–±–µ–≥–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞ BTC

3. **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–ª–∞**
   - –ù–∞—Ö–æ–¥–∏—Ç—å –∞–ª—å—Ç–∫–æ–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–µ—Ä–µ–∂–∞—é—Ç BTC (`relative_strength_10 > 0`)
   - –ò–∑–±–µ–≥–∞—Ç—å —Å–ª–∞–±—ã—Ö –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤ (`relative_strength_10 < -0.02`)

4. **–°–Ω–∏–∂–µ–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**
   - –ù–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –∫–æ–≥–¥–∞ BTC –≤ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ (`btc_rsi > 70` –∏ –ø–∞–¥–µ–Ω–∏–µ)
   - –£—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é —Å BTC

## üìà –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### –§–∏–ª—å—Ç—Ä: –¢–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ BTC –≤ —Ç—Ä–µ–Ω–¥–µ
```python
if btc_adx > 25 and btc_rsi < 70:
    # BTC –≤ —Ç—Ä–µ–Ω–¥–µ –∏ –Ω–µ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω - –º–æ–∂–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –∞–ª—å—Ç–∫–æ–∏–Ω—ã
    signal = model.predict(...)
```

### –§–∏–ª—å—Ç—Ä: –¢–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–∏–ª—å–Ω—ã–µ –∞–ª—å—Ç–∫–æ–∏–Ω—ã
```python
if relative_strength_10 > 0.01:
    # –ê–ª—å—Ç–∫–æ–∏–Ω —Å–∏–ª—å–Ω–µ–µ BTC - —Ö–æ—Ä–æ—à–∏–π —Å–∏–≥–Ω–∞–ª
    signal = model.predict(...)
```

### –§–∏–ª—å—Ç—Ä: –£—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é
```python
if btc_correlation_20 > 0.6:
    # –í—ã—Å–æ–∫–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è - –∞–ª—å—Ç–∫–æ–∏–Ω —Å–ª–µ–¥—É–µ—Ç –∑–∞ BTC
    # –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BTC –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    if btc_rsi < 30:  # BTC –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω
        signal = LONG
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **BTC —Ñ–∏—á–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤** (–Ω–µ –¥–ª—è BTCUSDT)
2. **–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º BTCUSDT** - –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, —Ñ–∏—á–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã** - –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–ª—å—Ç–∫–æ–∏–Ω–∞ –¥–µ–ª–∞–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å BTCUSDT
4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–µ—à –∏–∑ `DataCollector` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –§–∏—á–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ–¥
2. ‚è≥ –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Å –Ω–æ–≤—ã–º–∏ —Ñ–∏—á–∞–º–∏
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
4. ‚è≥ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å feature importance –¥–ª—è BTC —Ñ–∏—á–µ–π

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

BTC –¥–∞–Ω–Ω—ã–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Å –¥–∞–Ω–Ω—ã–º–∏ –∞–ª—å—Ç–∫–æ–∏–Ω–∞ —á–µ—Ä–µ–∑ `reindex` —Å `method='ffill'`:
- –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç - –ø—Ä—è–º–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
- –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç - forward fill –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ï—Å–ª–∏ BTC –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã - —Ñ–∏—á–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è, –æ–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ - —Ñ–∏—á–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω—É–ª—è–º–∏
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã try/except

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- BTC –¥–∞–Ω–Ω—ã–µ –∫–µ—à–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `DataCollector`
- –§–∏—á–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ñ–∏—á–µ–π
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ)
