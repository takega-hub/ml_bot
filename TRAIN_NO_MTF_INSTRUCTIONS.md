# Инструкция: Обучение моделей БЕЗ MTF и проверка прибыльности

## Шаг 1: Обучение моделей БЕЗ MTF фичей

Запустите скрипт обучения:

```bash
python train_and_test_no_mtf.py
```

Или вручную установите переменную окружения:

```bash
set ML_MTF_ENABLED=0
python retrain_ml_optimized.py
```

**Что произойдет:**
- Модели будут обучены ТОЛЬКО на 15m данных (без 1h и 4h фичей)
- Имена моделей будут с суффиксом `_15m` вместо `_mtf`
- Например: `xgb_SOLUSDT_15_15m.pkl`, `rf_SOLUSDT_15_15m.pkl`

## Шаг 2: Проверка прибыльности

### Вариант 1: Тест одной модели

```bash
python backtest_ml_strategy.py --model ml_models/xgb_SOLUSDT_15_15m.pkl --symbol SOLUSDT --days 14
```

### Вариант 2: Тест всех моделей одного символа

```bash
python run_all_backtests.py --symbol SOLUSDT --days 14
```

### Вариант 3: Сравнение всех моделей

```bash
python compare_ml_models.py --days 14
```

## Ожидаемые результаты

После обучения БЕЗ MTF:
- Меньше фичей (только 15m индикаторы)
- Более быстрая генерация сигналов
- Возможно, другая прибыльность по сравнению с MTF моделями

## Сравнение с MTF моделями

Для сравнения результатов:
1. Обучите модели БЕЗ MTF (этот скрипт)
2. Обучите модели С MTF (`set ML_MTF_ENABLED=1`)
3. Сравните результаты бэктестов

## Важно

- Начальный баланс: **$100**
- Размер позиции: **$100** с учетом плеча (маржа = $10 при leverage 10x)
- Период тестирования: **14 дней** (можно изменить через `--days`)
